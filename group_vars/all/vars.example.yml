---
# Step-CA Configuration Variables
# Copy this file to vars.yml and customize for your environment
# Sensitive values should be stored in an encrypted vault.yml

#==============================================================================
# REQUIRED VARIABLES
#==============================================================================

# CA initialization password (minimum 16 characters)
# IMPORTANT: Store this in an encrypted vault file, not here!
# step_ca_docker_init_password: "{{ vault_step_ca_docker_password }}"

# DNS names for the CA certificate
step_ca_docker_init_dns:
  - "ca.example.com"
  - "localhost"

#==============================================================================
# CA IDENTITY
#==============================================================================

# Name of your Certificate Authority
step_ca_docker_init_name: "My Organization Private CA"

#==============================================================================
# DIRECTORY PATHS
#==============================================================================

# Base directory for Docker Compose files
step_ca_docker_compose_dir: "/data/step-ca"

# Data directory for CA state (certificates, keys, database)
step_ca_docker_data_dir: "/data/step-ca/volume"

#==============================================================================
# NETWORK CONFIGURATION
#==============================================================================

# Port to expose on the host
step_ca_docker_bind_port: 8443

# Port inside the container (usually same as bind_port)
step_ca_docker_container_port: 8443

# DNS servers for the container
step_ca_docker_dns_servers:
  - "1.1.1.1"
  - "8.8.8.8"

#==============================================================================
# USER/GROUP CONFIGURATION
#==============================================================================

# System user for running step-ca container
step_ca_docker_host_user: "stepca"
step_ca_docker_uid: 1501
step_ca_docker_gid: 1501

#==============================================================================
# CERTIFICATE VALIDITY SETTINGS
#==============================================================================

# Go duration format: 5m, 1h, 24h, 720h (30 days), 2160h (90 days), 8760h (1 year)
step_ca_docker_cert_min_duration: "5m"
step_ca_docker_cert_default_duration: "2160h"    # 90 days
step_ca_docker_cert_max_duration: "8760h"        # 1 year

#==============================================================================
# DOCKER CONFIGURATION
#==============================================================================

# Docker image to use
step_ca_docker_docker_image: "smallstep/step-ca:latest"

# Container name
step_ca_docker_container_name: "ca"

# Restart policy
step_ca_docker_restart_policy: "unless-stopped"

# Enable ACME provisioner
step_ca_docker_init_acme: true
